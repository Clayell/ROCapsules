PART
{
	module = Part
	name = ROC-Soyuz7K-DM
	author = Beale, Pap

	

	//	============================================================================
	//	Model and Dimensions
	//	============================================================================

	MODEL
	{
		model = ROCapsules/Assets/Tantares/Soyuz/7K-DM
		scale = 1.0, 1.0, 1.0
		rotation = 0, 0, 0
	}
	MODEL
	{
		model = ROCapsules/Assets/Tantares/Endcaps/end_crew_s0
		scale = 1.76, 1.76, 1.76
		position = 0.0, 0.88, 0.0
		rotation = 0, 0, 0
	}
	MODEL
	{
		model = ROCapsules/Assets/Tantares/Endcaps/end_basic_s1
		scale = 1.76, 1.76, 1.76
		position = 0.0, -0.88, 0.0
		rotation = 180, 0, 0
	}

	scale = 1.0
	rescaleFactor = 1.0

	node_stack_top = 0.0, 0.88, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -0.88, 0.0, 0.0, -1.0, 0.0, 2
	// stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	bulkheadProfiles = size1, size2

	//	============================================================================
	//	Title, Description, Category, Techs
	//	============================================================================
	
	title = Soyuz 7K Descent Module
	manufacturer = OKB-1
	description = The descent module (Russian: Спуска́емый Аппара́т, tr. spuskáyemy apparát), also known as a reentry capsule, is used for launch and the journey back to Earth.
	
	mass = 2.85
	
	category = Pods
	subcategory = 0
	
	tags = soyuz, 7k, dm, descent, soviet
	
	TechRequired = unlockParts
	cost = 1
	entryCost = 1
	
	vesselType = Ship
	stagingIcon = COMMAND_POD
	CrewCapacity = 3
	
	INTERNAL
	{
		name = Soyuz7K_Internal
	}
	
	//	============================================================================
	//	Thermo, Durability
	//	============================================================================
	
	maxTemp = 673.15
	skinMaxTemp = 2000
	emissiveConstant = 0.6
	heatConductivity = 1.0				//All conductivity. Leave this alone for now
	thermalMassModifier = 1.0			//Thermal mass. Leave this alone for now
	skinInternalConductionMult = 0.005	//Skin-to-int conductivity. Skin coated in ablator, and isolated from Aluminum hull with very thick insulation layer.
	skinMassPerArea = 4
	skinThermalMassModifier = 1.0		//Skin thermal mass. Leave this alone for now
	skinSkinConductionMult = 0.05		//Skin well insulated and connected with slip-joints. Probably not much conduction.
	
	crashTolerance = 8
	breakingForce = 250
	breakingTorque = 250
	
	CoPOffset = 0.0,  0.375,  0.0
	CoMOffset = 0.0, -0.1875, 0.0 
	CoLOffset = 0.0, -0.25,   0.0 

	CenterOfBuoyancy = 0.0, 0.5, 0.0
	CenterOfDisplacement = 0.0, -0.3, 0.0
	buoyancy = 1.5
	buoyancyUseSine = False
	
	fuelCrossFeed = true
	
	//	============================================================================
	//	Modules and Resources
	//	============================================================================

	MODULE
	{
		name = ModuleInventoryPart		
		InventorySlots = 4
		packedVolumeLimit = 100
	}
	
	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		RESOURCE
		{
			name = ElectricCharge
			rate = 1.52
		}
	}
	
	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}
	
	MODULE
	{
		name = ModuleDecouple
		explosiveNodeID = top
		ejectionForce = 80

		staged = false
		menuName = Clear Escape Hatch
	}
	
	MODULE
	{
		name = ModuleScienceExperiment
		experimentID = crewReport
		experimentActionName = Crew Report
		resetActionName = Discard Crew Report
		reviewActionName = Review Report
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		rerunnable = True
		xmitDataScalar = 1.0
	}

	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = Review Stored Data
		storeActionName = Store Experiments
		storageRange = 2.0
	}
	
	MODULE
	{
		name = ModuleColorChanger
		shaderProperty = _EmissiveColor
		animRate = 0.8
		animState = false
		useRate = true
		toggleInEditor = true
		toggleInFlight = true
		toggleInFlight = true
		unfocusedRange = 5
		toggleName = #autoLOC_502011 //#autoLOC_502011 = Toggle Lights
		eventOnName = #autoLOC_502012 //#autoLOC_502012 = Lights On
		eventOffName = #autoLOC_502013 //#autoLOC_502013 = Lights Off
		toggleAction = True
		defaultActionGroup = Light
		redCurve
		{
			key = 0 0 0 3
			key = 1 1 0 0
		}
		greenCurve
		{
			key = 0 0 0 1
			key = 1 1 1 0
		}
		blueCurve
		{
			key = 0 0 0 0
			key = 1 0.7 1.5 0
		}
		alphaCurve
		{
			key = 0 1
		}
	}
	
	MODULE:NEEDS[ConnectedLivingSpace]
	{
		name = ModuleConnectedLivingSpace
		passable = true
	}
	
	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 406.5519
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = 10000
			maxAmount = 10000
		}
	}
	
	//	============================================================================
	//	Comms
	//	============================================================================
	
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = INTERNAL
		packetInterval = 1.0
		packetSize = 2
		packetResourceCost = 12.0
		requiredResource = ElectricCharge
		antennaPower = 5000
		optimumRange = 2500
		packetFloor = .1
		packetCeiling = 5
	}
	
	//	============================================================================
	//	Animations and Textures
	//	============================================================================
}

//	============================================================================
//	Texture Sets
//	============================================================================

@PART[ROC-Soyuz7K-DM]:FOR[ROCapsules]
{
	MODULE
	{
		name = KSPTextureSwitch
		
		currentTextureSet = ROC-Soyuz7K-Recolor
		textureSet = ROC-Soyuz7K-Grey
		textureSet = ROC-Soyuz7K-Green
		textureSet = ROC-Soyuz7K-Black
		textureSet = ROC-Soyuz7K-White
	}
}
